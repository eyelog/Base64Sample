package ru.eyelog.base64sample

import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.text.Spanned
import androidx.core.text.HtmlCompat
import kotlinx.android.synthetic.main.activity_main.tvText
import ru.eyelog.base64sample.utils.Base64ImageParser
import ru.eyelog.base64sample.utils.HtmlTagHandler

class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val text = "<span style=\"color:red\">H</span>ere we have a nice image <img src=\"data:image/png;base64,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LjAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDowOTQyYmY5MC0zMWIyLTQ1MjUtYTYyYy04YjU0NzNjZGViNjUiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MWZlMzkwYjUtNGU1Yy00YWQ5LWI5N2EtNzQ3ZmU4OWM0NmNjIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MjEzNjFhZjEtODczNS00Yzk5LTgxOTktNzQ3MjcyYjcyNWJlIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJNYWMgT1MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjI3MDMwMzQ1MTk1ODczIgogICBHSU1QOlZlcnNpb249IjIuMTAuMjIiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMTEwIgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTEwIgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDxpcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgPGlwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uU2hvd24+CiAgIDxpcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgPGlwdGNFeHQ6UmVnaXN0cnlJZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OlJlZ2lzdHJ5SWQ+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjEzNTJkMzJhLThhNGItNDZmMy04ZTc2LTdiMDMxNTBlNzg3YSIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChNYWMgT1MpIgogICAgICBzdEV2dDp3aGVuPSIyMDIxLTA3LTIzVDExOjUyOjI1KzAzOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICAgPHBsdXM6SW1hZ2VTdXBwbGllcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkltYWdlU3VwcGxpZXI+CiAgIDxwbHVzOkltYWdlQ3JlYXRvcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkltYWdlQ3JlYXRvcj4KICAgPHBsdXM6Q29weXJpZ2h0T3duZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpDb3B5cmlnaHRPd25lcj4KICAgPHBsdXM6TGljZW5zb3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpMaWNlbnNvcj4KICAgPGV4aWY6VXNlckNvbW1lbnQ+CiAgICA8cmRmOkFsdD4KICAgICA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPlNjcmVlbnNob3Q8L3JkZjpsaT4KICAgIDwvcmRmOkFsdD4KICAgPC9leGlmOlVzZXJDb21tZW50PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+QwIcjwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAAd0SU1FB+UHFwg0GSThmSgAAASuSURBVHja7Z1NSFRRGIbfOzqOwkzlTjJQSRCKAtGsNC2tkCIl+iEiCopWLdq0aNW2RVSLiqRFST/Qf1iklqVU1qYfIneCoBur3YQzpZPO3BaiETl6vpk795575312wnW49zxz3jnnfOfMGKZpmiCuw8cmoDhCcYTiKI5QHKE4iiMURyiOUBzFEYojFJdl5HriKaIRTD17jKlPH5CIjGHy3VsYhYXIXbESOUuXwd/QBN+GRk+JM9xej5tqb8Ovm+0ww+H5H7SsFKEzl2CUV1Cc08ROn8LE/TvqD1tYiOC5y/BVVvMzzikmr7WJpAGAGQ4jeuIY8H2U4hzh+yh+XTyf0r+a4TBiV9sozpGITLPhJx7cdX2vc5+4aGS64dPk971bFGcn8e4OS15n4tVLirOT8U5rxJnDIzCHBinOrkFJ/MuAdSPTrg6Ks2UK0PXE0tdzc1y6Stz400eWvp6b49I14syhQZjDI0rXFhw+6vm4dI041QbOWbUaeUeOqcdlx0OKyySqDVzQshMIhuCvrVPryeEwEv19FJcJEv19C67+z/a4+iYAQGDTZvXe/IbiMhOTig2bs2o1UFT8j0AVYr09FGc50Yhywxa07Pz7R1HxtEiPxqX24uIpxOScIj0Wl9qLm3zdK47JZCK9FJd6i4tGEHveLY/JLIhLrcVJKgHJeldedY0n41JrcaqVgLlicgb/dvXPuVhvDxCNUFxaCCoB8w1CjPIK+EpKlOMy7pK41FacpBKw0CAk0LTV8sEQxSWLScVKwHwxmVJcPu92RVxqKU5UCdh/aMFrJHE5M3ekuJRiMv3R5H+jyzXrPBWXWopTrQQEmrcBwZDStf4GwWTcBXGpnThJJcC/Ub0C4KtvgrFkiWfiUjtxkkmwZEkLAAJbmj0Tl3qJE1QCJDHpxbjUSlw8QzHpxbjUSpwknqQxOTu6XLtefS5594a24vQ5kSqoBBhlpZi6n9re/4Qg/uJfBqYPhywwwc9qcZJKgDk8gp8XzttzX/19yNl7kFGZNJY69dzfqOt96SHO4jMBlva4mbikuDkGJRafCchEXFLcXHFk8ZmAbIhLx8VJKgGMS43EueXQhW5x6bg4txy6+Hn7BsXNToYFS1yOR7pmZ+kcnYBLKgH+2jr4q9Za+8b5Nir6BofJrg7kHT+phTjnvhIqGsFY62blHre4+1VGlp7GGtfA/PFDrbHKSrHo0YvsjkrRmQCFDUGpIqnR6RSXjomTVAJUNgSlimQHmE6jYGfECSoBQOolHKUGqKwW7QDT5ZsaHBEnqQTk79knrnSL41KwYVaXuHREnGQJSbLdIJvi0n5xgkqAr6QEvvrMizPKK5SPY+kSl7aLk1QC8lt323ZfktOr5vAIEp8/Zpc4SSXAv73VtvuSDoCcjkt7V06iERTs2KX2jgoF7d3rUVSM4OmzSHz7qn5/DmLwV4ndCX8wguIIxRGKozhCcYTiKI5QHKE4QnEUR3TAluqA+em9pxvRqKrxpjgAGDt6wJPSQleuw2BUEoqjOEJxhOIojlAcoThCcRRHNMK2JS/f8nK2toVwJzOjklAcoTiKIxRHKI7iCMURiiMUR3GE4gjFZRt/ABXZ3Cw+ErsRAAAAAElFTkSuQmCC\" />straight in text"

        val htmlSpanTitle: Spanned = HtmlCompat.fromHtml(
            text,
            HtmlCompat.FROM_HTML_MODE_COMPACT,
            Base64ImageParser(tvText, this),
            HtmlTagHandler()
        )
        tvText.text = htmlSpanTitle
    }
}
